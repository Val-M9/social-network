(this.webpackJsonpdraft=this.webpackJsonpdraft||[]).push([[4],{193:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return j}));var r=n(1),i=n(6),a=n(0),u=n.n(a),o=n(53);function c(t,e,n){var r=t.render,u=t.children,o=t.component,c=Object(i.a)(t,["render","children","component"]);if(o)return Object(a.createElement)(o,Object.assign(e,c,{children:u,render:r}));if(r)return r(void 0===u?Object.assign(e,c):Object.assign(e,c,{children:u}));if("function"!==typeof u)throw new Error("Must specify either a render prop, a render function as children, or a component prop to "+n);return u(Object.assign(e,c))}function s(t,e,n){void 0===n&&(n=function(t,e){return t===e});var r=u.a.useRef(t);u.a.useEffect((function(){n(t,r.current)||(e(),r.current=t)}))}var l=function(t,e){if(t===e)return!0;if("object"!==typeof t||!t||"object"!==typeof e||!e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(e),a=0;a<n.length;a++){var u=n[a];if(!i(u)||t[u]!==e[u])return!1}return!0},f=function(t){return!(!t||"function"!==typeof t.stopPropagation)},d=Object(a.createContext)();function b(t){var e=u.a.useRef(t);return u.a.useEffect((function(){e.current=t})),e}var v=function(t,e,n){n.forEach((function(n){Object.defineProperty(t,n,{get:function(){return e[n]},enumerable:!0})}))},m=function(t,e){return v(t,e,["active","dirty","dirtyFields","dirtySinceLastSubmit","dirtyFieldsSinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touched","valid","validating","values","visited"])},p={"final-form":o.e,"react-final-form":"6.5.2"},O=o.d.reduce((function(t,e){return t[e]=!0,t}),{});function j(t){var e=t.debug,n=t.decorators,v=t.destroyOnUnregister,j=t.form,g=t.initialValues,h=t.initialValuesEqual,y=t.keepDirtyOnReinitialize,S=t.mutators,x=t.onSubmit,E=t.subscription,w=void 0===E?O:E,_=t.validate,V=t.validateOnBlur,F=Object(i.a)(t,["debug","decorators","destroyOnUnregister","form","initialValues","initialValuesEqual","keepDirtyOnReinitialize","mutators","onSubmit","subscription","validate","validateOnBlur"]),k={debug:e,destroyOnUnregister:v,initialValues:g,keepDirtyOnReinitialize:y,mutators:S,onSubmit:x,validate:_,validateOnBlur:V},C=function(t){var e=u.a.useRef();return e.current||(e.current=t()),e.current}((function(){var t=j||Object(o.b)(k);return t.pauseValidation(),t})),D=Object(a.useState)((function(){var t={};return C.subscribe((function(e){t=e}),w)(),t})),R=D[0],N=D[1],A=b(R);Object(a.useEffect)((function(){C.isValidationPaused()&&C.resumeValidation();var t=[C.subscribe((function(t){l(t,A.current)||N(t)}),w)].concat(n?n.map((function(t){return t(C)})):[]);return function(){C.pauseValidation(),t.reverse().forEach((function(t){return t()}))}}),[n]),s(e,(function(){C.setConfig("debug",e)})),s(v,(function(){C.destroyOnUnregister=!!v})),s(y,(function(){C.setConfig("keepDirtyOnReinitialize",y)})),s(g,(function(){C.setConfig("initialValues",g)}),h||l),s(S,(function(){C.setConfig("mutators",S)})),s(x,(function(){C.setConfig("onSubmit",x)})),s(_,(function(){C.setConfig("validate",_)})),s(V,(function(){C.setConfig("validateOnBlur",V)}));var B={form:Object(r.a)({},C,{reset:function(t){f(t)?C.reset():C.reset(t)}}),handleSubmit:function(t){return t&&("function"===typeof t.preventDefault&&t.preventDefault(),"function"===typeof t.stopPropagation&&t.stopPropagation()),C.submit()}};return m(B,R),Object(a.createElement)(d.Provider,{value:C},c(Object(r.a)({},F,{__versions:p}),B,"ReactFinalForm"))}function g(t){var e=Object(a.useContext)(d);if(!e)throw new Error((t||"useForm")+" must be used inside of a <Form> component");return e}var h="undefined"!==typeof window&&window.navigator&&window.navigator.product&&"ReactNative"===window.navigator.product,y=o.c.reduce((function(t,e){return t[e]=!0,t}),{}),S=function(t,e){return void 0===t?"":t},x=function(t,e){return""===t?void 0:t},E=function(t,e){return t===e};function w(t,e){void 0===e&&(e={});var n=e,i=n.afterSubmit,u=n.allowNull,o=n.component,c=n.data,s=n.defaultValue,l=n.format,f=void 0===l?S:l,d=n.formatOnBlur,m=n.initialValue,p=n.multiple,O=n.parse,j=void 0===O?x:O,w=n.subscription,_=void 0===w?y:w,V=n.type,F=n.validateFields,k=n.value,C=g("useField"),D=b(e),R=function(e,n){return C.registerField(t,e,_,{afterSubmit:i,beforeSubmit:function(){var e=D.current,n=e.beforeSubmit,r=e.formatOnBlur,i=e.format,a=void 0===i?S:i;if(r){var u=C.getFieldState(t).value,o=a(u,t);o!==u&&C.change(t,o)}return n&&n()},data:c,defaultValue:s,getValidator:function(){return D.current.validate},initialValue:m,isEqual:function(t,e){return(D.current.isEqual||E)(t,e)},silent:n,validateFields:F})},N=Object(a.useRef)(!0),A=Object(a.useState)((function(){var t={},e=C.destroyOnUnregister;return C.destroyOnUnregister=!1,R((function(e){t=e}),!0)(),C.destroyOnUnregister=e,t})),B=A[0],P=A[1];Object(a.useEffect)((function(){return R((function(t){N.current?N.current=!1:P(t)}),!1)}),[t,c,s,m]);var q={onBlur:Object(a.useCallback)((function(t){if(B.blur(),d){var e=C.getFieldState(B.name);B.change(f(e.value,B.name))}}),[B.blur,B.name,f,d]),onChange:Object(a.useCallback)((function(e){var n=e&&e.target?function(t,e,n,r){if(!r&&t.nativeEvent&&void 0!==t.nativeEvent.text)return t.nativeEvent.text;if(r&&t.nativeEvent)return t.nativeEvent.text;var i=t.target,a=i.type,u=i.value,o=i.checked;switch(a){case"checkbox":if(void 0!==n){if(o)return Array.isArray(e)?e.concat(n):[n];if(!Array.isArray(e))return e;var c=e.indexOf(n);return c<0?e:e.slice(0,c).concat(e.slice(c+1))}return!!o;case"select-multiple":return function(t){var e=[];if(t)for(var n=0;n<t.length;n++){var r=t[n];r.selected&&e.push(r.value)}return e}(t.target.options);default:return u}}(e,B.value,k,h):e;B.change(j(n,t))}),[k,t,j,B.change,B.value,V]),onFocus:Object(a.useCallback)((function(t){B.focus()}),[B.focus])},I={};!function(t,e){v(t,e,["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","validating","visited"])}(I,B);var M=Object(r.a)({name:t,get value(){var e=B.value;return d?"input"===o&&(e=S(e)):e=f(e,t),null!==e||u||(e=""),"checkbox"===V||"radio"===V?k:"select"===o&&p?e||[]:e},get checked(){var e=B.value;return"checkbox"===V?(e=f(e,t),void 0===k?!!e:!(!Array.isArray(e)||!~e.indexOf(k))):"radio"===V?f(e,t)===k:void 0}},q);return p&&(M.multiple=p),void 0!==V&&(M.type=V),{input:M,meta:I}}var _=Object(a.forwardRef)((function(t,e){var n=t.afterSubmit,u=t.allowNull,o=t.beforeSubmit,s=t.children,l=t.component,f=t.data,d=t.defaultValue,b=t.format,v=t.formatOnBlur,m=t.initialValue,p=t.isEqual,O=t.multiple,j=t.name,g=t.parse,h=t.subscription,y=t.type,S=t.validate,x=t.validateFields,E=t.value,_=Object(i.a)(t,["afterSubmit","allowNull","beforeSubmit","children","component","data","defaultValue","format","formatOnBlur","initialValue","isEqual","multiple","name","parse","subscription","type","validate","validateFields","value"]),V=w(j,{afterSubmit:n,allowNull:u,beforeSubmit:o,children:s,component:l,data:f,defaultValue:d,format:b,formatOnBlur:v,initialValue:m,isEqual:p,multiple:O,parse:g,subscription:h,type:y,validate:S,validateFields:x,value:E});if("function"===typeof s)return s(Object(r.a)({},V,_));if("string"===typeof l)return Object(a.createElement)(l,Object(r.a)({},V.input,{children:s,ref:e},_));if(!j)throw new Error("prop name cannot be undefined in <Field> component");return c(Object(r.a)({children:s,component:l,ref:e},_),V,"Field("+j+")")}))},194:function(t,e,n){t.exports={control:"FormControl_control__36pm_"}},195:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a}));var r=function(t){return t?void 0:"Required"},i=function(t){return function(e){if(e&&e.length>t)return"Sorry, max length is ".concat(t," symbols")}},a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(e,n){return e||n(t)}),void 0)}}},196:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return b}));var r=n(3),i=n(6);function a(t,e){if(null==t)return{};var n,r,a=Object(i.a)(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)n=u[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var u=n(2),o=(n(0),n(193)),c=n(194),s=n.n(c),l=function(t){t.input;var e=t.meta,n=(t.child,a(t,["input","meta","child"])),r=e.touched&&e.error;return Object(u.jsxs)("div",{className:s.a.control,children:[n.children,r&&Object(u.jsx)("span",{children:e.error})]})},f=function(t){var e=t.input,n=(t.meta,t.child,a(t,["input","meta","child"]));return Object(u.jsx)(l,Object(r.a)(Object(r.a)({},t),{},{children:Object(u.jsx)("input",Object(r.a)(Object(r.a)({},e),n))}))},d=function(t){var e=t.input,n=(t.meta,t.child,a(t,["input","meta","child"]));return Object(u.jsx)(l,Object(r.a)(Object(r.a)({},t),{},{children:Object(u.jsx)("textarea",Object(r.a)(Object(r.a)({},e),n))}))},b=function(t,e,n,r,i){return Object(u.jsx)(o.a,{validate:t,name:e,component:n,placeholder:r,type:i})}},197:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(3),i=n(28),a=n(29),u=n(31),o=n(30),c=n(2),s=n(0),l=n.n(s),f=n(21),d=n(5),b=function(t){return{isAuth:t.auth.isAuth}},v=function(t){var e=function(e){Object(u.a)(s,e);var n=Object(o.a)(s);function s(){return Object(i.a)(this,s),n.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){return this.props.isAuth?Object(c.jsx)(t,Object(r.a)({},this.props)):Object(c.jsx)(d.a,{to:"/login"})}}]),s}(l.a.Component);return Object(f.b)(b)(e)}},205:function(t,e,n){t.exports={dialogs:"Dialogs_dialogs__15XSR",textInput:"Dialogs_textInput__2CK7f"}},206:function(t,e,n){t.exports={color:"Message_color__A1Qoa"}},207:function(t,e,n){t.exports={dialog:"DialogItem_dialog__1SkOl",active:"DialogItem_active__2CfNt",items:"DialogItem_items__30mq5"}},213:function(t,e,n){"use strict";n.r(e);var r=n(21),i=n(14),a=n(197),u=n(64),o=n(2),c=(n(0),n(205)),s=n.n(c),l=n(206),f=n.n(l),d=function(t){var e=t.message;return Object(o.jsx)("div",{className:f.a.color,children:e})},b=n(16),v=n(207),m=n.n(v),p=function(t){var e=t.id,n=t.ava,r=t.name,i="dialogs"+e;return Object(o.jsx)("div",{children:Object(o.jsxs)(b.b,{to:i,className:"".concat(m.a.dialog," ").concat(m.a.items),activeClassName:m.a.active,children:[Object(o.jsx)("img",{src:n,alt:"avatar"}),r]})})},O=n(193),j=n(196),g=n(195),h=function(t){var e=t.onSubmit;return Object(o.jsx)(O.b,{onSubmit:function(t){e(t)},children:function(t){var e=t.handleSubmit;return Object(o.jsxs)("form",{onSubmit:e,children:[Object(j.c)(Object(g.b)(300),"newMessage",j.b,"Enter your message"),Object(o.jsx)("button",{children:"Send Message"})]})}})},y=function(t){var e=t.dialogsData,n=t.onSendMessage,r=e.dialogs.map((function(t){return Object(o.jsx)(p,{name:t.name,ava:t.ava},t.id)})),i=e.messages.map((function(t){return Object(o.jsx)(d,{message:t.message},t.id)}));return Object(o.jsxs)("div",{className:s.a.dialogs,children:[Object(o.jsx)("div",{children:r}),Object(o.jsxs)("div",{className:s.a.textInput,children:[i,Object(o.jsx)(h,{onSubmit:function(t){n(t.newMessage)}})]})]})};e.default=Object(i.d)(Object(r.b)((function(t){return{dialogsData:t.dialogsPage}}),(function(t){return{onSendMessage:function(e){t(Object(u.b)(e))}}})),a.a)(y)}}]);
//# sourceMappingURL=4.55e2bd8c.chunk.js.map